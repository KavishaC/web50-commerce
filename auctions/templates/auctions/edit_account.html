{% extends "auctions/layout.html" %}

{% block body %}


    {% include "auctions/alert.html" %}

    <div class="card" style="display: block; margin: 20px;">
        <div class="card-header">
            <h3 style="margin: 20px;">Edit My Account</h3>
        </div>
        <div style="padding: 40px;">
        
            <form action="{% url 'edit_account' %}" method="POST">
                {% csrf_token %}

                
                <div style="display: inline-block; width: 623px; height: 300px;">
                    <p><small>Please note that you cannot edit a listing once created.</small></p>
                
                    <div class="form-group row">
                
                        <label for="userid" class="col-sm-2 col-form-label">User ID</label>
                        <div class="col-sm-10">
                            <div required class="form-control-plaintext" id="userid"><strong>{{ user.id }}</strong></div>
                        
                        </div>
                    </div>
                
                    <div class="form-group row">
                        <label for="username" class="col-sm-2 col-form-label">Username</label>
                        <div class="col-sm-10">
                            <input name ="username" type="text" class="form-control" id="username" value="{{ user.username }}">
                
                        </div>
                    </div>
                
                    <div class="form-group row">
                
                        <label for="email" class="col-sm-2 col-form-label">Email</label>
                        <div class="col-sm-10">
                        <input required type="email" class="form-control" id="email" name="email" value="{{ user.email }}">
                        
                    </div>
                
                    <div style="display: inline-block; width: 638px;">
                        <button type="submit" class="btn btn-primary" style="float: right; margin: 20px 0px 0px;">Save Changes</button>
                
                    </div>
                
                </div>

            </form>
        </div>
    </div>
</div>

<div style="width: 800px; margin-left: auto; margin-right: auto;">
    <h3>My Listings ({{ user.listings.count }})</h3>
    <br>
    {% for listing in user.listings.all %}

        {% include 'auctions/index/listing_card.html'  %}
    
    {% endfor %}
</div>

{% endblock %}
